CREATE TABLE DOENCA (
    IDDOENCA INT NOT NULL,
	NOME VARCHAR(100) NOT NULL,
	PRIMARY KEY (IDDOENCA)
);

CREATE TABLE PACIENTE (
	IDPACIENTE INT NOT NULL,
	CPF INT NOT NULL,
	NOME VARCHAR(100) NOT NULL,
	TELEFONE VARCHAR(14) NOT NULL, 
	ENDERECO VARCHAR(150),
	IDADE INT,
	SEXO CHAR(1),
	PRIMARY KEY (IDPACIENTE)
);

CREATE TABLE MEDICO (
	CRM INT NOT NULL,
	NOME VARCHAR(100) NOT NULL,
	TELEFONE VARCHAR(14) NOT NULL,
	PRIMARY KEY (CRM)
);

CREATE TABLE AGENDA (
	IDAGENDA INT NOT NULL,
	DIASEMANA VARCHAR(15) NOT NULL,
	HORAINICIO TIME NOT NULL,
	HORAFIM TIME NOT NULL,
	IDMEDICO INT NOT NULL,
	PRIMARY KEY (IDAGENDA),
	FOREIGN KEY (IDMEDICO) REFERENCES MEDICO(CRM)
);

CREATE TABLE ESPECIALIDADE (
	IDESPECIALIDADE INT NOT NULL,
	INDICE INT NOT NULL,
	NOME VARCHAR(100) NOT NULL,
	IDTAXA INT NOT NULL,
	PRIMARY KEY (IDESPECIALIDADE),
	FOREIGN KEY (IDTAXA) REFERENCES TAXA(IDTAXA)
);


CREATE TABLE MEDICO_ESPECIALIDADE (
	IDMEDICO_ESPECIALIDADE INT NOT NULL,
	IDMEDICO INT,
	IDESPECIALIDADE INT,
	PRIMARY KEY (IDMEDICO_ESPECIALIDADE),
	FOREIGN KEY (IDMEDICO) REFERENCES MEDICO(CRM),
	FOREIGN KEY (IDESPECIALIDADE) REFERENCES ESPECIALIDADE(IDESPECIALIDADE)
);

CREATE TABLE TAXA (
	IDTAXA INT NOT NULL,
	ANO INT NOT NULL,
	MES VARCHAR(15) NOT NULL,
	VALOR DECIMAL(10,2) NOT NULL,
	PRIMARY KEY (IDTAXA)	
);

CREATE TABLE CONSULTA (
	IDCONSULTA INT NOT NULL,
	DATACONSULTA DATE NOT NULL,
	HORAINICIO TIME NOT NULL,
	HORAFIM TIME,
	PAGOU CHAR(1),
	VALORPAGO DECIMAL(10,2) NOT NULL,
	FORMAPAGAMENTO VARCHAR(30),
	IDMEDICO_ESPECIALIDADE INT NOT NULL,
	IDPACIENTE INT NOT NULL,
	IDDIAGNOSTICO INT NOT NULL,
	PRIMARY KEY (IDCONSULTA),
	FOREIGN KEY (IDMEDICO_ESPECIALIDADE) REFERENCES MEDICO_ESPECIALIDADE(IDMEDICO_ESPECIALIDADE),
	FOREIGN KEY (IDPACIENTE) REFERENCES PACIENTE(IDPACIENTE),
	FOREIGN KEY (IDDIAGNOSTICO) REFERENCES DIAGNOSTICO(IDDIAGNOSTICO)
);

CREATE TABLE DIAGNOSTICO (
	IDDIAGNOSTICO INT NOT NULL,
	TRATAMENTORECOMENDADO VARCHAR(300) NOT NULL,
	REMEDIOSRECEITADOS VARCHAR(300) NOT NULL,
	OBSERVACOES VARCHAR(180),
	IDDOENCA INT NOT NULL,
	PRIMARY KEY (IDDIAGNOSTICO),
	FOREIGN KEY (IDDOENCA) REFERENCES DOENCA(IDDOENCA)
);
